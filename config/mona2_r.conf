# ================= Core/OS（オーバーヘッド削減） =================
CONFIG_LOG=n                  # ランタイムログ無効化で割込み優先
CONFIG_ASSERT=n               # 断言チェックOFF
CONFIG_PM=n                   # SoC パワーマネジメント無効化
CONFIG_PM_DEVICE=n            # デバイス単位の省電力無効化

# ================= Input（キーの待ち時間をゼロへ） =================
# ZMKの版により名称差あり。存在する場合は効きます。
CONFIG_ZMK_KSCAN_DEBOUNCE_MS=0

# ================= Mouse/PMW3610（イベント化を最短に） =================
# CONFIG_PMW3610_INVERT_X=y
# CONFIG_PMW3610_INVERT_Y=y
# CONFIG_PMW3610_SWAP_XY=y
# CONFIG_PMW3610_REPORT_INTERVAL_MIN=12
# CONFIG_PMW3610_LOG_LEVEL_DBG=n
# CONFIG_PMW3610_INIT_POWER_UP_EXTRA_DELAY_MS=300  # <-- Troubleshooting時のみ

CONFIG_PMW3610=y
CONFIG_PMW3610_TRIGGER=y                # irq-gpiosで割込み駆動
CONFIG_PMW3610_POLL_INTERVAL_MS=1       # （割込み無効時の保険）
# 版によってあれば有効に（優先度を上げる）
# CONFIG_PMW3610_THREAD_PRIORITY=3

# ================= Encoder =================
CONFIG_EC11=y
CONFIG_EC11_TRIGGER_GLOBAL_THREAD=y     # （own thread対応版なら切替推奨：CONFIG_EC11_TRIGGER_OWN_THREAD=y）

# ================= Battery / Split Battery Proxy =================
CONFIG_ZMK_BATTERY_REPORTING=y
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_PROXY=y
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_FETCHING=y

# ================= Layer LED =================
CONFIG_RGBLED_WIDGET_BATTERY_LEVEL_HIGH=30
CONFIG_RGBLED_WIDGET_BATTERY_LEVEL_CRITICAL=10
CONFIG_RGBLED_WIDGET_SHOW_LAYER_COLORS=n

# ================= ZMK Studio =================
CONFIG_ZMK_STUDIO=y
CONFIG_ZMK_STUDIO_LOCKING=n

# ================= Bluetooth（接続間隔とPHY最適化） =================
# 接続間隔：7.5ms〜11.25ms、レイテンシ0に詰める
CONFIG_BT_PERIPHERAL_PREF_MIN_INT=6
CONFIG_BT_PERIPHERAL_PREF_MAX_INT=9
CONFIG_BT_PERIPHERAL_PREF_LATENCY=0
# 2M PHY / Data Length Update（利用可能な環境では有効になる）
CONFIG_BT_PHY_2M=y
CONFIG_BT_DATA_LEN_UPDATE=y
CONFIG_BT_AUTO_PHY_UPDATE=y

# ================= Layout-Shift（そのまま） =================
CONFIG_LAYOUT_SHIFT=y
CONFIG_LAYOUT_SHIFT_TARGET_JIS=y
CONFIG_LAYOUT_SHIFT_PERSISTENT_STATE=n   # US→JIS変換の永続化はオフ

endif
